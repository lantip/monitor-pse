{% extends 'base.html' %} 
{% load static %}
{% block content %}      
        <div class="page-body">
          <div class="container-xl">
            <div class="row row-deck row-cards">
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">ASING TERDAFTAR</div>
                    </div>
                    <div class="h1 mb-3">{{asingterdaftar}}</div>
                  </div>
                  <div id="chart-asing-terdaftar" class="chart-sm"></div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">ASING SUSPENDED</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">{{asingsuspended}}</div>
                    </div>
                  </div>
                  <div id="chart-asing-suspended" class="chart-sm"></div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">LOKAL TERDAFTAR</div>
                    </div>
                    <div class="h1 mb-3">{{lokalterdaftar}}</div>
                  </div>
                  <div id="chart-lokal-terdaftar" class="chart-sm"></div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">LOKAL SUSPENDED</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">{{lokalsuspended}}</div>
                    </div>
                  </div>
                  <div id="chart-lokal-suspended" class="chart-sm"></div>
                </div>
              </div>
              <div class="col-12">
                <div class="row row-cards">
                  <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                      <div class="card-body">
                        <div class="row align-items-center">
                          <div class="col-auto">
                            <span class="bg-blue text-white avatar">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-pause" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <rect x="6" y="5" width="4" height="14" rx="1"></rect>
                                <rect x="14" y="5" width="4" height="14" rx="1"></rect>
                             </svg>
                            </span>
                          </div>
                          <div class="col">
                            <div class="font-weight-medium">
                              Suspended Sementara
                            </div>
                            <div class="text-muted">
                              {{asingsussmtr}} perusahaan asing
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                      <div class="card-body">
                        <div class="row align-items-center">
                          <div class="col-auto">
                            <span class="bg-green text-white avatar">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hand-stop" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"></path>
                                <path d="M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"></path>
                                <path d="M14 5.5a1.5 1.5 0 0 1 3 0v6.5"></path>
                                <path d="M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"></path>
                             </svg>
                            </span>
                          </div>
                          <div class="col">
                            <div class="font-weight-medium">
                              Dicabut
                            </div>
                            <div class="text-muted">
                              {{asingcabut}} perusahaan asing
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                      <div class="card-body">
                        <div class="row align-items-center">
                          <div class="col-auto">
                            <span class="bg-blue text-white avatar">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-pause" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <rect x="6" y="5" width="4" height="14" rx="1"></rect>
                                <rect x="14" y="5" width="4" height="14" rx="1"></rect>
                             </svg>
                            </span>
                          </div>
                          <div class="col">
                            <div class="font-weight-medium">
                              Suspended Sementara
                            </div>
                            <div class="text-muted">
                              {{lokalsussmtr}} perusahaan lokal
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                      <div class="card-body">
                        <div class="row align-items-center">
                          <div class="col-auto">
                            <span class="bg-green text-white avatar">
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hand-stop" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"></path>
                                <path d="M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"></path>
                                <path d="M14 5.5a1.5 1.5 0 0 1 3 0v6.5"></path>
                                <path d="M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"></path>
                             </svg>
                            </span>
                          </div>
                          <div class="col">
                            <div class="font-weight-medium">
                              Dicabut
                            </div>
                            <div class="text-muted">
                              {{lokalcabut}} perusahaan lokal
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Sektor Perusahaan Asing</h3>
                    <div id="chart-sektor-asing" class="chart-lg"></div>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Sektor Perusahaan Lokal</h3>
                    <div id="chart-sektor-lokal" class="chart-lg"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
{% endblock %} 
{% block endscript %} 
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>
<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    $.ajax({
      'url': '/source/chart/front/asing/active',
      'success': function(result) {
        window.ApexCharts && (new ApexCharts(document.getElementById('chart-asing-terdaftar'), {
          chart: {
              type: "area",
              fontFamily: 'inherit',
              height: 40.0,
              sparkline: {
                  enabled: true
              },
              animations: {
                  enabled: false
              },
          },
          dataLabels: {
              enabled: false,
          },
          fill: {
              opacity: .16,
              type: 'solid'
          },
          stroke: {
              width: 2,
              lineCap: "round",
              curve: "smooth",
          },
          series: [{
              name: "Asing Terdaftar",
              data: result['data']
          }],
          grid: {
              strokeDashArray: 4,
          },
          xaxis: {
              labels: {
                  padding: 0,
              },
              tooltip: {
                  enabled: false
              },
              axisBorder: {
                  show: false,
              },
              type: 'datetime',
          },
          yaxis: {
              labels: {
                  padding: 4
              },
          },
          labels: result['tanggal'],
          colors: ["#206bc4"],
          legend: {
              show: false,
          },
      })).render();
      }
    })      
  });
  // @formatter:on
</script>

<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    $.ajax({
      'url': '/source/chart/front/asing/suspended',
      'success': function(result) {
        window.ApexCharts && (new ApexCharts(document.getElementById('chart-asing-suspended'), {
          chart: {
              type: "area",
              fontFamily: 'inherit',
              height: 40.0,
              sparkline: {
                  enabled: true
              },
              animations: {
                  enabled: false
              },
          },
          dataLabels: {
              enabled: false,
          },
          fill: {
              opacity: .16,
              type: 'solid'
          },
          stroke: {
              width: 2,
              lineCap: "round",
              curve: "smooth",
          },
          series: [{
              name: "Asing Suspended",
              data: result['data']
          }],
          grid: {
              strokeDashArray: 4,
          },
          xaxis: {
              labels: {
                  padding: 0,
              },
              tooltip: {
                  enabled: false
              },
              axisBorder: {
                  show: false,
              },
              type: 'datetime',
          },
          yaxis: {
              labels: {
                  padding: 4
              },
          },
          labels: result['tanggal'],
          colors: ["#206bc4"],
          legend: {
              show: false,
          },
      })).render();
      }
    })      
  });
  // @formatter:on
</script>


<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    $.ajax({
      'url': '/source/chart/front/lokal/active',
      'success': function(result) {
        window.ApexCharts && (new ApexCharts(document.getElementById('chart-lokal-terdaftar'), {
          chart: {
              type: "area",
              fontFamily: 'inherit',
              height: 40.0,
              sparkline: {
                  enabled: true
              },
              animations: {
                  enabled: false
              },
          },
          dataLabels: {
              enabled: false,
          },
          fill: {
              opacity: .16,
              type: 'solid'
          },
          stroke: {
              width: 2,
              lineCap: "round",
              curve: "smooth",
          },
          series: [{
              name: "Lokal Terdaftar",
              data: result['data']
          }],
          grid: {
              strokeDashArray: 4,
          },
          xaxis: {
              labels: {
                  padding: 0,
              },
              tooltip: {
                  enabled: false
              },
              axisBorder: {
                  show: false,
              },
              type: 'datetime',
          },
          yaxis: {
              labels: {
                  padding: 4
              },
          },
          labels: result['tanggal'],
          colors: ["#206bc4"],
          legend: {
              show: false,
          },
      })).render();
      }
    })      
  });
  // @formatter:on
</script>

<script>
  // @formatter:off
  document.addEventListener("DOMContentLoaded", function () {
    $.ajax({
      'url': '/source/chart/front/lokal/suspended',
      'success': function(result) {
        window.ApexCharts && (new ApexCharts(document.getElementById('chart-lokal-suspended'), {
          chart: {
              type: "area",
              fontFamily: 'inherit',
              height: 40.0,
              sparkline: {
                  enabled: true
              },
              animations: {
                  enabled: false
              },
          },
          dataLabels: {
              enabled: false,
          },
          fill: {
              opacity: .16,
              type: 'solid'
          },
          stroke: {
              width: 2,
              lineCap: "round",
              curve: "smooth",
          },
          series: [{
              name: "Lokal Suspended",
              data: result['data']
          }],
          grid: {
              strokeDashArray: 4,
          },
          xaxis: {
              labels: {
                  padding: 0,
              },
              tooltip: {
                  enabled: false
              },
              axisBorder: {
                  show: false,
              },
              type: 'datetime',
          },
          yaxis: {
              labels: {
                  padding: 4
              },
          },
          labels: result['tanggal'],
          colors: ["#206bc4"],
          legend: {
              show: false,
          },
      })).render();
      }
    })      
  });
  // @formatter:on
</script>

<script>
  // @formatter:off
  $.ajax({
    url:'/source/chart/sektor/asing',
    success: function(result){
      var options = {
          series: result['total'],
          chart: {
          width: 580,
          type: 'pie',
        },
        labels: result['sektor'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 300
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
      };
      var chart = new ApexCharts(document.querySelector("#chart-sektor-asing"), options);
      chart.render();
    }
  })
  
  // @formatter:on
</script>


<script>
  // @formatter:off
  $.ajax({
    url:'/source/chart/sektor/lokal',
    success: function(result){
      var options = {
          series: result['total'],
          chart: {
          width: 580,
          type: 'pie',
        },
        labels: result['sektor'],
        responsive: [{
          breakpoint: 480,
          options: {
            chart: {
              width: 300
            },
            legend: {
              position: 'bottom'
            }
          }
        }]
      };
      var chart = new ApexCharts(document.querySelector("#chart-sektor-lokal"), options);
      chart.render();
    }
  })
  
  // @formatter:on
</script>

{% endblock %}